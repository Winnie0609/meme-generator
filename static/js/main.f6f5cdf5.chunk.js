(this.webpackJsonpmeme=this.webpackJsonpmeme||[]).push([[0],{14:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(7),s=c.n(a),r=c(3),i=c.n(r),l=c(6),o=c(2),j=(c(5),c(0));var m=function(e){var t=e.template,c=e.onClick;return Object(j.jsx)("div",{className:"meme-name",children:Object(j.jsx)("img",{src:t.url,alt:t.name,onClick:c})})};var d=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),r=Object(o.a)(s,2),d=r[0],u=r[1],b=Object(n.useState)("Top Text"),h=Object(o.a)(b,2),O=h[0],p=h[1],x=Object(n.useState)("Bottom Text"),f=Object(o.a)(x,2),v=f[0],g=f[1],N=Object(n.useState)(null),w=Object(o.a)(N,2),k=w[0],y=w[1],C=Object(n.useState)(!0),S=Object(o.a)(C,2),G=S[0],T=S[1];function M(){y(null),u(null),p(""),g("")}function E(){return(E=Object(l.a)(i.a.mark((function e(t){var c,n,a,s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),c=t,e.next=4,fetch(c);case 4:return n=e.sent,console.log(n),e.next=8,n.blob();case 8:a=e.sent,console.log(a),s=URL.createObjectURL(a),console.log(s),(r=document.createElement("a")).href=s,r.download="meme",document.body.appendChild(r),r.click();case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){fetch("https://api.imgflip.com/get_memes").then((function(e){return e.json().then((function(e){return a(e.data.memes)}))}))}),[]),k?Object(j.jsxs)("div",{className:"showPage",children:[Object(j.jsxs)("div",{className:"show-header",children:[Object(j.jsx)("h1",{children:"Meme Generator"}),Object(j.jsx)("p",{children:"Feel free to download you meme!"})]}),Object(j.jsxs)("div",{className:"new-meme",children:[Object(j.jsx)("button",{onClick:function(){return M()},children:"Create more Meme!"}),Object(j.jsx)("img",{src:k,alt:"custom meme"}),Object(j.jsx)("button",{onClick:function(){return function(e){return E.apply(this,arguments)}(k)},children:"Download"})]}),Object(j.jsx)("div",{style:{margin:"20px"}})]}):Object(j.jsxs)("div",{className:"all-memes",children:[G&&Object(j.jsxs)("div",{className:"landing",children:[Object(j.jsxs)("div",{className:"start",children:[Object(j.jsx)("h1",{children:"Meme Generator"}),Object(j.jsx)("p",{children:"I am so happy to be a meme."}),Object(j.jsxs)("button",{onClick:function(){return T(!G)},children:["Get started ",Object(j.jsx)("i",{className:"fas fa-chevron-right"})]})]}),Object(j.jsxs)("div",{className:"credit",children:[" Picture credits to :",Object(j.jsx)("a",{href:"https://www.inverse.com/article/60923-strange-planet-book-visual-glossary",target:"_blank",rel:"noreferrer",children:"JAKE KLEINMAN"})]})]}),!G&&d&&Object(j.jsxs)("div",{className:"editPage",children:[Object(j.jsxs)("button",{onClick:function(){return M()},className:"back-btn",children:[Object(j.jsx)("i",{className:"fas fa-arrow-left"}),"Back to template"]}),Object(j.jsxs)("div",{className:"edit-header",children:[Object(j.jsx)("h1",{children:"Meme Generator"}),Object(j.jsx)("p",{children:"Add Some Word to The Picture."})]}),Object(j.jsx)("form",{onSubmit:function(){var e=Object(l.a)(i.a.mark((function e(t){var c,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={template_id:d.id,text0:O,text1:v,username:"huiniong",password:"fesh4waup7rhis*DRIG"},e.next=4,fetch("https://api.imgflip.com/caption_image".concat((s=c,"?"+Object.entries(s).map((function(e){var t=Object(o.a)(e,2),c=t[0],n=t[1];return"".concat(c,"=").concat(n)})).join("&"))));case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,y(a.data.url);case 9:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(j.jsxs)("div",{className:"edit-place ",children:[Object(j.jsxs)("div",{className:"edit-img-name",children:[Object(j.jsx)(m,{template:d}),Object(j.jsx)("p",{children:d.name})]}),Object(j.jsxs)("div",{className:"edit-input",children:[Object(j.jsx)("input",{className:"top-text",placeholder:"Top Text",value:O,onChange:function(e){return p(e.target.value)}}),Object(j.jsx)("input",{placeholder:"Bottom Text",value:v,onChange:function(e){return g(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:" Generate "})]})]})})]}),!G&&!d&&Object(j.jsxs)("div",{className:"templatePage",children:[Object(j.jsxs)("div",{className:"template-header",children:[Object(j.jsx)("h1",{children:"Meme Generator"}),Object(j.jsx)("p",{children:"I am so happy to be a meme."})]}),Object(j.jsx)("div",{className:"meme meme-card",children:c.map((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(m,{template:e,onClick:function(){u(e)}},e.id)})}))})]})]})};s.a.render(Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(d,{})}),document.getElementById("root"))},5:function(e,t,c){}},[[14,1,2]]]);
//# sourceMappingURL=main.f6f5cdf5.chunk.js.map